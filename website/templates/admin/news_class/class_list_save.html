{% extends 'base_admin.html' %}
{% block content %}
     <link href="https://cdn.jsdelivr.net/gh/yibo7/ebcdn@0.9/umeditor/themes/default/_css/umeditor.css" type="text/css" rel="stylesheet">
    <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/yibo7/ebcdn@0.9/umeditor/third-party/template.min.js"></script>
    <script type="text/javascript" charset="utf-8" src="https://cdn.jsdelivr.net/gh/yibo7/ebcdn@0.9/umeditor/umeditor.config.js"></script>
    <script type="text/javascript" charset="utf-8" src="https://cdn.jsdelivr.net/gh/yibo7/ebcdn@0.9/umeditor/xs_index/editor_api.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/yibo7/ebcdn@0.9/umeditor/lang/zh-cn/zh-cn.js"></script>

<div class="row eb-box">
    <div class="col-sm-12 col-md-12 ">
        <div class="block-flat">
            <div class="boxheader">
                <h3>添加或修改分类</h3>
            </div>
            <div class="content">
                <form method="post" >
                     <div class="mb-3 mt-3">
                        <label>父级分类</label>
                        <select name="parent_id" style="max-width:300px" class="form-control">
                            <option value="">一级分类</option>
		                    {{build_sel_item(p_class_list,'_id','class_name',model.parent_id)}}
                        </select>
                    </div>
                    <div class="mb-3">
                        <label>分类名称</label>
                        <input name="class_name" value="{{model.class_name}}" minlength="1" style="max-width:300px" class="form-control" required>
                    </div>
                     <div class="mb-3 mt-3">
                        <label>分类模板</label>
                        <select name="class_temp_id" style="max-width:300px" class="form-control" required>
		                    {{build_sel_item(temp_class,'_id','name',model.class_temp_id)}}
                        </select>
                    </div>
                     <div class="mb-3 mt-3">
                        <label>内容模板</label>
                        <select name="content_temp_id" style="max-width:300px" class="form-control" required>
		                    {{build_sel_item(temp_content,'_id','name',model.content_temp_id)}}
                        </select>
                    </div>
                    <div class="mb-3 mt-3">
                        <label>内容模型</label>
                        <select name="content_model_id" style="max-width:300px" class="form-control" required>
		                    {{build_sel_item(model_content,'_id','name',model.content_model_id)}}
                        </select>
                    </div>
                    <div class="mb-3">
                        <label>分类简介</label>
                        <script type="text/plain" id="info" name="info" style="width:100%;height:100%;">{{model.info|safe}}</script><script>var um = UM.getEditor("info");</script>

                    </div>
                     <div class="mb-3">
                        <label>每页显示</label>
                        <input type="number" name="page_size" value="{{model.page_size}}"  style="max-width:100px" class="form-control" required>
                    </div>

                    <input hidden value="{{model._id}}" id="_id" name="_id" >
                    <button class="btn btn-primary mb-3" type="submit">   保  存   </button>
                    {% if err %}
                        <div class="alert alert-danger">err</div>
                    {%endif%}


                </form>

            </div>
        </div>
    </div>
</div>

{% endblock %}